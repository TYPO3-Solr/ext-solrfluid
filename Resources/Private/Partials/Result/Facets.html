<html xmlns="http://www.w3.org/1999/xhtml" lang="en"
	  xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
	  xmlns:s="http://typo3.org/ns/ApacheSolrForTypo3/Solrfluid/ViewHelpers">

<f:section name="Facets">
	<div id="tx-solr-faceting">
		<f:if condition="{resultSet.facets.used -> f:count()}">
			<div id="tx-solr-facets-in-use">
				<h3>Used facets</h3>
				<ul class="facets">
					<f:for each="{resultSet.facets.used}" as="facet">
						<f:for each="{facet.options.selected}" as="option">
							<li>-
								<s:link.facet.removeOption facet="{facet}" option="{option}" class="facet remove-facet-option">{option.label}</s:link.facet.removeOption> <span class="facet-result-count">({option.count})</span>
							</li>
						</f:for>
					</f:for>
					<li class="facets-remove-all">
						<f:link.page>Remove all filters</f:link.page>
					</li>
				</ul>
			</div>
		</f:if>

		<div class="solr-facets-available secondaryContentSection">
			<div class="csc-header">
				<h3 class="csc-firstHeader">Narrow Search</h3>
			</div>
			<ul class="facets">
				<f:for each="{resultSet.facets.available}" as="facet">
					<li class="facet facet-type facet-type-{facet.type}">
						<f:render partial="Facets/{facet.partialName}" arguments="{resultSet:resultSet, facet:facet}"/>
					</li>
				</f:for>
			</ul>
		</div>

	</div>

</f:section>
